landon c noll subject 10th international obfuscated c code contest opening part 2 2 enclosed rule guideline related information 10th international obfuscated c code contest thi part 2 2 part file enjoy landon curt noll oo larry bassel thi part 02 archive echo x text sed x 124 x x copyright c landon curt noll larry bassel 1993 x right reserved permission personal education nonprofit use x granted provided thi thi copyright notice included x remain use must receive prior x permission writing landon curt noll larry bassel x x x make international obfuscated c code contest entry x x usage x r remark b build p x x r remark file remark entry x b build file containing built x p obfuscated program source file x ioccc entry output file x x compile x cc x x x placed public domain landon curt noll 1992 x x thi software provided without expres implied x warranty including without limitation implied warranty x particular purpose x x x warning x x thi program attempt implement ioccc rule every attempt x ha made make sure thi program produce entry x conform contest rule case thi program x differ contest rule contest rule used x sure check contest rule submitting entry x x send question comment entry contest x x x x rule guideline may often change year x year sure current rule guideline x prior submitting entry obtain 3 send email x addres use subject send rule x x contest rule change year year one use thi x program year wa intended sure x define match thi current year x x x x logic true x define true 1 true false x define false 0 false xdefine true xdefine eofnotok false x x global limit xdefine 1993 note match current year xdefine 000 first confirmation received xdefine 79 max column line hit xdefine 256 max build size xdefine max program source size xdefine max program source size counting x followed x eof xdefine 12 max char title xdefine 1 max length entry input line xdefine 8 max number entry per person per year xdefine 1024 max filename length info file x x send entry xdefine xdefine x x uuencode proces assume ascius xdefine xdefine 45 max uuencode chunk size xdefine mode info file uuencode file xdefine mode build file uuencode file xdefine build name build file uuencode file xdefine mode program uuencode file xdefine name program uuencode file x x uuencoded character x x global declaration program name startup time x x forward declaration xvoid xvoid usage xvoid xvoid xvoid xvoid xvoid xvoid xvoid xvoid xvoid xvoid uuencode x argv x int arg count x char argv arg x x file open remark stream x file open build file stream x file open program stream x file open output stream x char file remark entry x char file containing built x char obfuscated program source file x char ioccc entry output file x tm tm startup time structure x x x check year x x 0 x tm x x fprintfstderr x warning thi program apply may differ x x x x x parse command line arg x x argv oname x x x input output file x x open output file first case x one input file x x output x remark x build x prog x x x x x x output section x x oname x oname remark x oname x oname x oname build x oname prog x oname x x x flush output x x eof x fprintfstderr flush error program oname x x x x x x final word x x entry found check thi x oname x problem verify utility x decode ymy build file x program ha provided guide x conflict rule rule shall x ymy responsibility ensure ymy entry conform ton x current x ymy entry ton x x x use following subject email ymy x x done x x x x x parse command line arg x x given command line arg thi function parse set x required name flag thi function return command x line correct x xvoid argv oname x int arg count x char argv arg x char file remark entry x char file containing built x char obfuscated program source file x char oname ioccc entry output file x x char flag option x int name flag x int x x x everyone ha must parse arg hand x x program x x x determine x x x x x x x determine flag x 0 0 x x else x x x x else x x x x x save flag correct global variable x switch x case r x x break x case b x x break x case p x x break x case x oname x break x default x x x x x x x verify required flag x x null null null oname null x x x x return x x x x usage print usage message exit x x thi function return x xvoid x int exit thi value x x fprintfstderr x usage r remark b build p program x fprintfstderr remark x fprintfstderr tb containing x fprintfstderr tp obfuscated program source x fprintfstderr entry output x x x x x remark file x x remark file 4 space extend x beyond column requirement warn x x thi function return null io format error x x char filename x x file stream opened file stream x char input buffer x int number line long x int number line 4 space x x x open remark input file x x stream r x stream null x fprintfstderr open remark file x program filename x x x x x x look line x x stream null x x count line start 4 space x n 4 0 x x x x count long line x x found line long x x x x x watch io error x filename x x note long line needed x 0 x fprintfstderr x warning line extend beyond x program filename x fprintfstderr x thi ok would nice x program x x x note line needed x 0 x fprintfstderr x warning line 4 x program filename x fprintfstderr x thi ok would nice x program x x x return open file x x x x x x build file x x build file must longer byte x x thi function return null io size error x x char filename x x file stream opened file stream x stat statu open file x x x open build input file x x stream r x stream null x fprintfstderr open build file x program filename x x x x x x determine size file x x 0 x fprintfstderr stat build file x program filename x x x x x fprintfstderr x fatal build file byte x program filename x fprintfstderr x may longer x program x x x x return open file x x x x x program source file x x program source file must byte number x char followed must x byte x x thi function return null io size error x x char filename x x file stream opened file stream x stat statu open file x int count special count size x int c character read x x x open program source input file x x stream r x stream null x fprintfstderr open program source file x program filename x x x x x x determine size file x x 0 x fprintfstderr stat program source file x program filename x x x x x fprintfstderr x fatal program source file byte x program filename x fprintfstderr x may longer x program x x x x x count non followed char x x count 0 x c 0 x eof x look x x switch c x case count followed eof x case x case x next char x c x c eof x followed eof count x stream x count x x break x default x count x break x x x x x watch io error x filename x x look special size x count x fprintfstderr x fatal number byte x program x fprintfstderr x followed x program x fprintfstderr x eof must x program x fprintfstderr x byte x program filename count x x x x return open file x x x x x x entry output file x x thi function return null open error x x char filename x x file stream opened file stream x x x open ioccc entry output file x x stream w x stream null x fprintfstderr open ioccc entry file output x program filename x x x x x return open file x x x x x output entry section x x read needed information form write entry section x xvoid oname x file output entry output file stream x char oname name output file x x char entry title x char io buffer x int entry number x int field processed x int 0 line ok x char skip input skip x file pipe date command x second since x char p x x x write start section x x fprintfoutput x checkiooutput oname eofnotok x x x write rule year x x fprintfoutput x checkiooutput oname eofnotok x x determine thi fix x thi fix update x entry enter n x 11 0 0 x answer n x x x fprintfoutput x checkiooutput oname eofnotok x sure title entry number given x entry x else x fprintfoutput x checkiooutput oname eofnotok x x x x write title x x title must match expression x 0 x x suggested required title x ymy username x multiple author consider using part x x ymy title x x prompt read line x 0 x long please x continue x x x verify pattern everyone ha hand x x x first character x ymy title x 0 x else x p 0 p n p x x x p p p p x character x ymy title x 0 x x x x 0 x fprintfoutput title x checkiooutput oname eofnotok x x x write entry number x x person may submit entry per x x entry number 0 x x get valid input line x x dn entry x eofnotok x skip input found x x skip x eofnotok x skip n x bad text input entry number x entry 1 x x skip n x x check number range x 1 entry 0 entry x x entry number must 0 x x entry number x x 1 entry 0 entry x fprintfoutput entry x checkiooutput oname eofnotok x x x write submission date x x return x x fprintfoutput x checkiooutput oname eofnotok x x x write host information x x x machine ymy entry wa x oname host x x x x output remark section x x read needed information form write entry section x xvoid oname remark x file output entry output file stream x char oname name output file x file remark stream file containing remark text x char name remark file x x char buffer x x x write start section x x fprintfoutput x checkiooutput oname eofnotok x x x copy remark file section x x remark null x output x checkiooutput oname eofnotok x x x x sure remark section end x n x output x checkiooutput oname eofnotok x x x x x output author section x x read needed information write author section x multiple author exist multiple author section written x xvoid oname x file output entry output file stream x char oname name output file x x char io buffer x int true author note x int number author processed x x x prompt user author section x x information author ymy entry x contest deadline x attempt email back confirmation first x x x place author information author individual section x x x x write start section x fprintfoutput x checkiooutput oname eofnotok x x write author x name x 0 x long please x x fprintfoutput buf x checkiooutput oname eofnotok x x write organization x author dn x x x 0 x long please x x fprintfoutput buf x checkiooutput oname eofnotok x x write addres x x postal addres author sure x x country include ymy x oname x x write email addres x x email addres author use addres x x x registered domain well known site give x list one per x oname email x x write anonymou statu x author remain anonymou enter n x x 11 0 0 x answer n x x fprintfoutput buf x checkiooutput oname eofnotok x x determine another author x another author enter n x 11 0 0 x answer n x x x true x else x false x x true x return x x x x output info section x x read needed information write info section x multiple info file exist multiple info section written x xvoid oname x file output entry output file stream x char oname name output file x x char filename buffer x char n answer x char name uuencode x file info file stream x x x prompt user info information x x file used supplement ymy x example info file may provide sample input x ymy entry x entry require x x x another info file save uuencode x x info file include enter n x 11 0 0 x answer n x x x x read filename x info filename x 0 0 x filename long please x x x compute info filename x remove x x 0 x avoid issue hand x x x x break x x x x attempt open info file x r x null x fprintfstderr n open info file x program x x continue x x x x write start section x x fprintfoutput x checkiooutput oname eofnotok x x uuencode info file x oname x x another info file include enter n x 11 0 0 x answer n x x x return x x x x output build section x x read needed information write build section x xvoid oname build x file output entry output file stream x char oname name output file x file build open build file stream x char name build file x x x write start section x x fprintfoutput x checkiooutput oname eofnotok x x x uuencode program file x x oname build x return x x x x output program section x x read needed information form write program section x xvoid oname prog x file output entry output file stream x char oname name output file x file prog open program stream x char name program file x x x write start section x x fprintfoutput x checkiooutput oname eofnotok x x x uuencode program file x x oname prog x return x x x x output end section x x read needed information form write end section x xvoid oname x file output entry output file stream x char oname name output file x x x write final section terminator x x fprintfoutput x checkiooutput oname eofnotok x return x x x x get answer x x thi function flush case prompt pending x read answer x x thi function return 0 line long length x line including line wa ok thi function x return error eof x x char buf input buffer x int length input including x int max col allowed 0 disable check x x int length length input line x x flush terminal output x x x read line x null x report problem x eofnotok x x x look x length x n x int char eaten x x found line must long eat rest line x x x eof n x eofnotok x x report situation x return 0 x x x watch long line needed x 0 length x report situation x return 0 x x x return length x return length x x x x output set line read x x thi routine read set line including x single line read format output x x line x line x line x x x thi routine return io error eof x xvoid oname leader x file output entry output file stream x char oname name output file x char leader lead text first line x x char input buffer x int count line read x int true finished reading input x x user input x end input enter line single x x read line eof x count 0 x done x issue prompt x leader x x x get line x 0 x long please x continue x x x note wa read x n 0 x done true x x x write line read something x done x fprintfoutput st leader buf x checkiooutput oname eofnotok x x x x line read least output something x count 0 x fprintfoutput leader x checkiooutput oname eofnotok x x return x x x x determine highest string would reach x x given string thi routine return string would reach x string printed column 1 tab stop assumed x start 9 17 25 33 x x char string string examine x x int col current column x char p current char x x scan string x p 0 p n p x note column shift x col pt x x p n x col x x x return highest column x return col x x x x check eof io error stream x x return eof io error x xvoid name x file stream stream check x char name name thi stream x int eofnotok x x test io error x x fprintfstderr error program name x x x x test eof x else eofnotok x fprintfstderr eof sn program name x x x return x x x x uuencode uuencode file x x perform proces identical proces performed x utility x x thi routine implement algorithm described x reno man page x xvoid oname x file output output file stream x char oname output filename x file input file stream x char input filename x int mode put uuencode file x char name put uuencode file x x char uuencode buffer x int actual number char read x int 6 bit chunk buf x char uuencode pad text x char p x x x output initial uuencode header x x fprintfoutput begin sn x checkiooutput oname eofnotok x x x clear input buffer x x p p x p 0 x x x x proces char time forming x single output line time x x 0 x x x first character length character x x output x checkiooutput oname eofnotok x x x convert 24 bit time thu convert x 3 set 8 bit 4 set uuencoded 6 bit x x x x bit 0 5 x x output x checkiooutput oname eofnotok x x bit 6 11 x x output x checkiooutput oname eofnotok x x bit 12 17 x x output x checkiooutput oname eofnotok x x bit 18 23 x x output x checkiooutput oname eofnotok x x x end line x output x checkiooutput oname eofnotok x x x clear input buffer dont depend x x p p x p 0 x x x x check last read input file x x x write end uuencode file x fprintfoutput x checkiooutput oname eofnotok x echo restore failed set wc c test echo original size current size fi echo x text sed obfuscated contest information x c landon curt noll larry bassel 1993 right reserved permission personal education nonprofit use provided thi thi copyright notice included remain use must receive prior permission writing landon curt noll larry bassel x international obfuscated c code contest ioccc willing mention programming content space x ymy contest included thi file x x wish ioccc judge include ymy contest thi file x send request x x x x request contest description limited 50 line x exceed 2500 byte typically request ymy contest x include current description ioccc x x order included thi file given year must x receive current description earlier jan 1 x later feb 15 agreement publish ymy x contest must also obtained prior feb 15 annual contest x fail submit new entry dropped thi file x disclaimer pardon x x content noted ioccc affiliated x ioccc endorsed ioccc reserve x right refuse print information given contest x x information wa provided particular contest x organizer printed permission please contact x contest organizer directly regarding content x official notice given present ymy following content x x x x 10th international obfuscated c contest x x original obfuscated contest x x 1 render obscure x b 2 confuse emotion obfuscated x judgment x dark n x x x goal contest x x write c program rule x show importance programming style ironic way x stres c compiler unusual code x illustrate c language x provide safe forum poor c code x x ioccc grandfather usenet programming contest since x 1984 thi contest demonstrated program work x correctly sufficient ioccc ha also done much add x word obfuscated back english language x see new hacker dictionary eric raymond x x strongly encouraged read new contest rule x sending entry rule sometime contest email x addres change time valid entry one year may x rejected later year due change rule typical x start date contest early march contest rule normally x posted beginning contest typical x closing date contest early may x x contest rule posted x acces x group missed early march posting may x request copy judge vium email x x x x previou contest winner available vium anonymou ftp x directory x x x x international obfuscated contest x landon noll larry wall x x thi content planned someday landon larry x busy actually get around posting first set rule x x landon say ye know said would contest 1993 x existing project got way hopefully x something developed nov 1993 x x x x 2nd international obfuscated postscript contest x jonathan x x x contest programming skill knowledge exclusively x postscript programming language purpose x x spread knowledge postscript detail x best trick x prove human beat machine generator x game writing obscure mysteriou postscript x program ever x x winner receive fame attention go x program entry posted winner programmer worldwide x x 1993 contest rule result available ftp x individually x obfuscated directory judge post 1994 rule x november usenet place x send question x x category include best obfuscated postscript best x compact best interactive program useful x anything unusual creative deserve award x x judge choose winner category x x system administrator institute high x energy nuclear physic netherland author x postscript program draw set set x kind fractal function x x jonathan graduate student mit brown university x usa faq usenet newsgroup x author postscript zone x x echo restore failed set wc c test echo original size current size fi exit 0 sunnyvale resident vote landon noll sunnyvale city council seat 1
