duncan subject rx remote execution x program posted thi week back got back wa error message permission denied yep mode 600 interest setting display variable etc thought would post contribution thi script solution try intelligent able type rx get xterm running difficult stuff taken care theory thi program everything ever wanted wanted run remote command background doesnt even need x program try rx make instance make remote detail full list feature read readme file 20 line comment welcome duncan thi shell archive remove anything thi line saving file typing sh file existing file type sh file c also feed thi standard input vium typing sh file eg thi archive complete see following message end end archive 1 1 content readme imakefile manifest makefile wrapped thu apr 8 1993 export path test f readme 1 c echo existing file readme else echo readme character sed readme x x rx remote execution x program version 317 x 1992 duncan x install imakefile make even trivial x script need installed file read comment youve done make install x x x right thing remote execution including x setting display include domain name passing x magic cookie stuff x x allow different remote user name rx l user host x x smart quoting argument make passing easy x x custom command execution link get remote x emac command x x automatic xterm option name xterm according hostname x turn login shell x x default command xterm x x variable remote session user may x extend list variable pa x x special handling shell user x x try remote execution directory local x intelligent manner x x log error file x x overall intelligence tm make reasoned decision x trying try right thing x x written x info read man page source x test ne wc c readme echo readme wrong size fi end readme fi test f imakefile 1 c echo existing file imakefile else echo imakefile character sed imakefile x rx imakefile x x program rx x program x safe x x x rm x x x debug 0 false x safe x p x pu e part x test ne wc c imakefile echo imakefile wrong size fi end imakefile fi test f manifest 1 c echo existing file manifest else echo manifest 313 character sed manifest x file name archive description x x readme 1 read first x imakefile 1 x manifest 1 thi shipping list x makefile 1 x 1 x 1 test 313 ne wc c manifest echo manifest wrong size fi end manifest fi test f makefile 1 c echo existing file makefile else echo makefile character sed makefile x makefile generated imake edit x rw x x used thi machine replace multiple tab x space macro expansion single space imake try compensate x thi alway successful x x x x makefile generated x rw x x parameter may set appropriate x configuration file parameter set file x full rebuild recommended parameter changed x x ymy c define unique symbol need x set imake usually x make world first time x x x x configuration parameter need come x parameter edit change x x site 12 rw x x x configuration parameter edit change x x platform rw x x operating system suno 413 x x 17 rw x x x configuration parameter go x parameter edit change x x site 12 rw x x shell x x top x x x ar ar x x cc gcc x x x compres compres x x gcc e x install install x ld ld x x c x x x make make x mv mv x cp cp x x x x x rm rm f x x x x x x x x x x tag x x x x x x x x x x x x x x x g x x x x x x x x x include x define x x x x x x x x x r x x x x rm core emac tag tag x x x x x imake x x x x x x x x window system build parameter x rw x x x x window system make variable thi need rule x x x x x x top x x x x x x x x x x x x x x x n x 3 x x x x x x x x x x imake imake x depend x rgb rgb x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x rw x assert x x x x x x xlib x x x x x x x x x x x x x x x x x x x x x 410 x 410 x 50 x 410 x 410 x 410 x 410 x 10 x x x x x x x x x x x x x x x x x x x x x x x x x x x x x imake rule building library program script datum file x rule rw x x x start imakefile x x rx imakefile x x program rx x program x safe x x set x x else set x fi x install c x x set x x else set x fi x install c x x rm x x x debug 0 false x safe x p x pu e part x x x common rule makefile edit x x x x x f makefile set x x rm mv makefile x else exit 0 fi x x x tag w ch x tag ch tag x x load x x load x x x empty rule directory edit x x echo install done x x echo done x x x x x generated x test ne wc c makefile echo makefile wrong size fi end makefile fi test f 1 c echo existing file else echo character sed rx 1 4 march 1993 x version 11 name remote command xterm anything execution rx x l username x host x command x x l username x host x arg x description rx connect specified host execute specified command background returning immediately allow execution x program copy number environmental variable remote session command rx start xterm remote host start remote xterm host also pas arg remote xterm argument quoted interpreted local quoted interpreted remote name file rx executed anything rx rx thi name leading r command run remote host using command argument remote command rx using xbased x calling host different username attempt copy authorization remote account otherwise try use grant acces remote host option l username username remote username instead ymy local username absence thi option remote username ymy local username x environment set value path display remote program unles username different remote host display case variable named display variable appropriate contain qualified hostname needed diagnostic command dont recognise name rx decode name ha called thi case print warning message continue normal rx usage rx l username hostname arg mean could decode argument given author july 1992 based program name distinguish thi rx program similar name refer thi program rx see also bug rx number assumption relationship user remote one depending whether remote whether alternative username wa used xor particular either locally used shell remotely shell standard shell strange thing likely happen especially one quoting get easy fool smart rx make believe something true fail rx grant acces may fail rx send large command remote machine fail parse error csh thi happen probably reduce size environment test ne wc c echo wrong size fi end fi test f 1 c echo existing file else echo character sed x x config change line point ymy copy x x rx version 317 x x copyright 1992 duncan x x last modified early april 1993 x x distribution limited per usual mit copyright x x remote execution x program based script old version x x install put rx ymy bin make link x configuration necessary see config comment x x thi le le like original x x major work set also partly x work sh rather x x maybe ill turn thi first script x x look like turned script point big improvement x x thi code try intelligent way work thi mean x ton assumption environment run x assumption valid machine use x environment time try make assumption possible x remote machine list tricky one x remote machine ha csh linux x remote shell make x remote shell sh path compatible use csh etc x pa cookie remote machine need x know cookie eat x must x x using csh run remote command simply doesnt x interact badly rsh hang waiting file x closed id rather use even x universal csh x x x x called x 0 x x config x change variable ymy domain name pattern x match variation ymy domain name must include x leading dot ymy hostname include ymy domain see x code marked xxx x x x config x change thi ymy value set variable x think ymy user x x x config x make thi name ymy remote shell command x rsh x x end config x x variable well doubt use sometime x usage l username hostname home 0 x x anything else close thi might stop rx hanging x due rsh x x x l flag x l x shift x user die usage x x shift x x x pick host host x die usage x x thing think remote machine x mach x x seem cant trust dumb user set hostname right x hostname current host current host sn x x ymy hostname include ymy domain comment next line x hostname hostname xxx x x know different x hostname ne mach x x display going x danger heavy regular expression follow x thi need modular extended x support host unix required x 00 diff display x x come hard bit sh quote arg x also quote quote cope csh x quote quoted thu x arg get x argv x sg x s1 x x x x x rx last prog x x diff x x last prog x x r last prog x warn dont recognise name x x x nothing else become x argv 0 x diff x x x x special consideration ourself side x user x x want pa cookie x x e x x thi going cookie appear number x command line arg least itll work x thi need enhanced ever fix code x set display 00 return server x x cookie list display x x cook split cookie x x cook 2 x else x x hate thi x x mach diff x x x really want pa value display x x split x else x x variable wish export x x x display x x x x x x x shell user x x split x x x shell need given path x would rather pa current path might work x destination machine id rather wa set user x remote shell rsh x fortunately x program place x shouldnt co problem locally x check might running another shell x login shell know sound weird x common round x ive also included co cant see easy way x pa without late x one person ha login shell anyway x oh yeah assuming shell x shell much important thi isnt x shell better shell x x x x x routine x x x 0 x x unles return x unles stat return x unles return x x return x x x x try find nice valid x x x x x x x unles x x x x home x x s1 x x try find somewhere nice live side x x x x x start building full command x x x x x x command side x using csh x x build remote command x join sg remote x x build arg list exec x x x x debug x print x else x exec comm x x x rsh doesnt return indication went x side ok co aint going x wait around see happened x 0 x x end test ne wc c echo wrong size fi x end fi echo end archive 1 1 cp missing 1 test f fi done test missing echo archive rm f else echo still need following archive echo missing fi end shell archive exit 0 duncan would real unix operating system please stand
