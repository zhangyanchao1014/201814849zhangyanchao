david b lewi subject compwindowsx frequently asked question faq 55 archivename lastmodified subject 119 im writing widget cant use resource value resource portable size value may larger size try using pointer instead xaw resource handled thi way subject 120 thi memory leak x11r4 ye thi x11r4 thu jul 11 1991 thu jul 11 1991 14 15 plu patch revision 140 141 copyright 1987 1988 digital equipment corporation maynard massachusett int 0 dr widget w else dr int 0 dr result call could cause dr widget w else subject 121 callback guaranteed called order registered although book demonstrate current implementation xt happen call callback procedure order registered specification guarantee sequence authoritative document ie volume say order undefined callback list widget application xt guarantee order execution general callback procedure thought operating independently one another depend callback operating needed single callback registered explicitly call function necessary thank subject 122 doesnt actually destroy widget operate two pas order avoid leaving datum structure mark widget actually destroyed ymy program return subject 123 query user using xt possible code look like thi trivial callback ha clear flow control call block answer set one valid value ye answer code drop callback back loop void w client call int answer answer really quit answer answer really positive answer realistic example might ask whether create file whether thi accomplished entering second loop waiting user answer question answer returned calling function function look something like thi motif replaced code create sort displaying question string button ok help equivalent int string widget w char string int widget dialog could arg int n 0 context n n dialog string arg n response answer response answer response answer context w answer context blow away dialog box shell return answer dialog support three button set call function user variable answer set user finally select one choice void client call widget w client call int answer int client reason call switch case answer define value break case answer break case answer break default return code back point answer wa needed continue thank dan code dan library subject 124 determine name existing widget widget id need know name widget user r4 later best using function work widget object still using r3 use thi simple bit code want note depend widget internal datum structure necessarily portable future version xt including r4 include include string widget widget widget work object return modified suggestion larry roger subject 125 get error drawing im thi order get window xlib graphic within program drawing area window get window associated widget window produce error window associated widget created part widget using window id null window could create error describe necessary call attempting use window associated widget note window created call server may actually mapped yet also wait expose event window drawing subject 126 get error calling error occur specified rectangle go edge screen dont want catch error deal take following step avoid error 1 make pixmap size rectangle want capture 2 clear pixmap background using 3 use copy window pixmap 4 get event copy wa clean use grab image pixmap 5 get one event copy wasnt clean member event structure tell part pixmap arent good 6 get rid pixmap probably take lot memory thank oliver jone subject 127 application tell run x number program offer x mode otherwise run straight mode easiest way application determine running x display attempt open connection x server display display x stuff else curse something else either string specified following display convention otherwise case use value display set thi superior simply checking existence display argument checking display set environment neither adequate subject 128 make busy cursor application computing necessary call every window application easiest thing create single window large largest possible screen make child ymy toplevel window window wont affect application need big largest possible screen case user window busy move elsewhere within virtual desktop substitute toplevel ymy widget similar code work application use ymy top window long attribute ignore device event busy cursor displayed window big display screen parent window never worry 0 0 int 0 0 attribute maximum size could replaced real size screen particularly avoid server problem window larger want use thi busy cursor map raise thi window go back normal thi automatically keep getting extra mouse event depending precisely window manager work may may similar effect well addition note also xaw widget support resource temporarily reset merely wish change cursor without pointer event thank andrew dan subject 129 fork without hanging parent x program xbased application unix process continue run closed typically child terminated child parent open x connection display need fork immediately child proces close close display information thi ymy exec able exit parent alternatively make thi call cause file closed exec void 1 thank janet gordon greg 393 subject 130 make xt xlib call signal handler xlib xt mutual protecting critical section ymy signal handler make call wrong time might function calling already leave library inconsistent state note ansi c standard point behavior signal handler undefined signal handler call function signal thi problem specific xlib xt specification mention function may called safely may assumed function called xlib xt function work around problem setting flag interrupt handler later checking work procedure timer event ha previously added note article x journal 14 example oreilly volume 6 error thank pete subject 131 xlib sequence lost error may see error issue xlib request xlib error handler likely make call generate x request xt xlib signal handler shouldnt case subject 132 xt program handle socket pipe file input common need write xt program accept input user vium x connection file operate efficiently without either x connection file solution use open ymy file use register input handler input handler called every time something file requiring ymy program attention write input handler like would xt callback work quickly return important use io system call ymy input handler input handler read file although input handler write handle exception condition wish careful register input handler read disk file find function called even isnt input pending actually working supposed input handler called whenever file ready read new datum read disk file unlike pipe socket almost alway ready read however spin back beginning read datum youve read result ymy function almost alway called every time around way get type interaction expecting add thi line beginning ymy function test whether new datum n 1 n 0 return thi called frequently ymy application effectively may better using instead setting timer timer procedure checking file input courtesy dan jone subject 133 button event widget thi using likely youre setting window field event xt need order match widget receive event youre sending event ymy application use instead thi efficient avoid server depending well widget wa written may able call action procedure order get effect want courtesy mark subject 134 doesnt anything appear run thi simple program right map window drawing however window ready drawn actually appear screen ymy application expose event drawing done generally appear youll see code like thi many program thi code would appear window wa created mapped done switch case expose expose event redraw break note second problem xlib implementation dont set default graphic context correct color thi program could previously include thi code eg eg note code use avoid assuming 1 black 0 white relationship pixel 0 1 color black white may reversed may even correspond black white also note actually using usually wrong thing finished program ignore user preference background also note run situation program draw right ha realized may yet appeared subject 135 difference screen screen screen xlib structure include information one monitor virtual monitor single x display support server support several independent screen etc screen second digit 0 1 2 thought index array available screen thi particular display connection macro use obtain information particular screen ymy application running typically two form one take screen one take display program typically use determine screen ymy application running use single screen part confusion may arise fact macro return characteristic screen display name etc subject 136 use c x11 motif xview header file compatible c motif 11 header file usable inside c however definition string conflict string clas need worked around project help set c class wrap x toolkit widget available vium anonymou ftp exportlcsmitedu work building set c class parallel clas tree widget c interview toolkit vium anonymou ftp interview use model similar tex constructing user interface support multiple look user interface sample application include document editor doc drawing program interface builder thing clas library written rome air force base strategic air command available freeware archive site motif library define c clas motif 11 add application clas eg x also widget set thi work wa developed ronald van based x set binding done university lowell graphic research laboratory current source available source code example doug young programming c osfmotif isbn include widget include set class facility commonly needed motif application check export wave offer c programmer using motif info 1 503 product called ltd ireland apparently toolkit multiple window system including pm window xv sold fax 1300 implement interface gil file sun openwindow developer guide 30 produce xview class c set c class xview toolkit intended use sun openwindow developer guide 30 builder tool source version 2 wa released also likely use reasonable alternative formerly object interface thank dougla rand george wu subject obtain alternate language binding x version lisp binding part x11 core source distribution version r5 tape version exportlcsmitedu binding anonymou ftp pub study team sponsored nasa jsc apparently working binding information gnu ha betum native binding x called still beginning stage documentation outside code source available binding called written ted kim supported part available anonymou ftp language binding depend foreign function interface ymy developer ha gotten work inquiry go scheme binding xlib osfmotif xaw part distribution version export obsolete version r5 contrib tape accessory scheme interpreter provide interface xlib motif openlook available vium ftp binding motif explicitly eventually made available jet propulsion laboratory probably normal electronic mean advance information obtained may respond time permit complete binding x motif language many common system based part upon binding also include translator info system engineering research corporation also mit consortium although involved producing binding x maintain partial listing person involved x information available subject get window background set background pixel pixmap window client reason thi client create pixmap set background pixmap window free pixmap window keep thi background pixmap destroyed youre sure window ha background pixel pixmap use clear region background color use read back pixel however thi action alter content window suffer race condition exposure courtesy dave ncd stuart mark sun note apply border thi protocol allows server free manipulate however want requiring server keep original pixel pixmap potentially lot space saved courtesy jim mit x consortium subject create transparent window completely transparent window easy get use window order create window mostly transparent several choice shape extension first released x11r4 offer easy way make window set shape window fit area window however server support extension method implementing transparent window particular server use plane supported hardware note x notion transparent color index generally portable solution use large number tiny window thi make operating application unit difficult final answer consider whether really need transparent window would satisfied able ymy application window information draw separate color appear properly thank der mouse see also x journal 14 complete answer including code sample thi last option subject 140 doesnt produce color value using may expect drawing value black background black example produce white however drawing operation work rgb value colormap index color resulting colormap index actually point undefined random unles actually filled many x server black white often 01 10 program taking advantage thi mathematical coincidence break want color number ymy color cell filling ymy chosen value want use simply switch two color take setting background color gc graphic context 0 color value draw red say result blue draw blue result red thi value xor colormap index red blue thank chri ken subject 141 every color allocate show black make sure youre using 16 bit 8 red green blue field structure scaled 0 nothing forget scale using example color function perform correctly resulting color usually black thank paul subject 142 cant program get standard colormap program use get standard colormap doesnt work used property create standard colormap return one one already exist use order create standard colormap first der mouse subject 143 pixmap copy screen show garbage initial content pixmap undefined thi mean server allocate memory leave around whatever happen usually garbage probably want clear pixmap first using function pixel whatever color want ymy background using pixmap mask courtesy dave ncd stuart mark sun subject 144 check whether window id valid program ha id window remote display want check whether window exist anything x asynchronou isnt guarantee window would still exist time got id time sent event window otherwise send event without checking install error handler catch error would indicate window longer exist thi scheme work except rare occasion original window ha destroyed id another window courtesy ken lee subject 145 two application draw window ye x server assign id window resource actually server assign bit client application know id manipulate resource almost x server resource except gc private color cell shared problem face window id multiple application simple way handle thi problem application running different machine first application create property put window id second application retrieve property whose name also know draw whatever want window note thi scheme work iff one instance first application running scheme subject limitation mentioned question using window id remote display note also still need coordinate cooperation among ymy application note also two process share window try use server connection one proces child close connection server open connection mostly courtesy phil subject 146 cant program work tvtwm number application including xwd handle virtual root window tvtwm use typically return wrong child root general solution add thi code use ymy application would normally use function name description get root window even virtual root argument display screen return root window client include window display int window child int window root atom none int false root child 0 atom int long window null 0 1 false char succes root break return root courtesy david similar code version distributed tvtwm header file andrea function similarly providing macro code include thi header file first run properly presence virtual desktop subject 147 keep window user window done window manager window manager pay attention size hint ymy application place window guarantee window manager listen try setting minimum maximum size hint ymy target size hope best subject 148 keep window time rather application constantly raise eg tracking event isnt imagine conflict two program running sure way ymy window appear top stack make window thi mean temporarily assuming duty window want thi short period time eg popup menu short window thank der mouse subject 149 make text bitmap x easy way unles youre willing depend sort extension yet nonexistent arrange blinking either content periodically possible playing game colormap changing color content thank der mouse subject 150 get xlib user xt support translation manager help get good way get xlib protocol provide enough support timeout unles action actually taking next see event server thu timeout mean code implementation use get file x connection use select something similar note many reference suggest used extend action indicated thi case ymy interface execute first action compromise check second event determine whether action action thank der mouse subject 151 render text xlib intentionally provide sophisticated graphic capability leaving graphic library ymy choice want stay within core x protocol render text pixmap read back vium rotate hand whatever matrix want put back server vium xputimage specifically 1 create bitmap b write ymy text 2 create image b vium 3 create image big enough handle transformation 4 xy x b x 5 render note careful implement thi lose bit algorithm based transformation may fact better graphic package available x also permit rendering text display postscript pex phig although capable arbitrary rotation probably use font would found printer addition enough acces server install font create font consist letter angle ymy application figure courtesy der mouse eric taylor ken lee interview c toolkit x contrib software ha support rendering font x could one source example code brian r smith another possibility use font used x converting request program alan richardson posted july 14 1992 paint font implementing method using outline font package alan richardson set function facilitate writing text angle version 30 wa recently released 393 also export oreilly x resource volume 3 include information hp modification x font server provide scaled text subject 152 x reserve name place x toolkit application x protocol define use string name context conflict possible different component use name different thing mit x consortium maintain name domain name selection name selection target resource type application class clas extension record type several list directory r5 tape also available sending send doc mail server register name first come first served ask question send sure include postal addres confirmation h david b lewi faq joe friday david b lewi temporarily speaking visual inc day evening
