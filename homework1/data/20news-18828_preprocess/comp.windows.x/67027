yangcsumassedu hong yang subject colormap question hi expert im kind new x following question strange trying modify content colormap failed without reason using following piece code toplevel xtinitializeargv0 testcolor null 0 argc argv dpy xtdisplaytoplevel scr defaultscreendpy defcolormap defaultcolormapdpyscr ifxalloccolorcellsdpy defcolormap true null 0 cell 5 colorpixel cells0 colorred 250 colorgreen 125 colorblue 0 colorflag dored dogreen doblue xstorecolordpy defcolormap color printfn try allocate color ddd colorpixel colorred colorgreen colorblue xquerycolordpy defcolormap color printfn allocate color ddd colorpixel colorred colorgreen colorblue else printfn error couldnt allocate color cell running output try allocate color 7 2501250 allocate color 7 000 xstorecolor xquerycolor returned original value failureerror displayed content colormap obviou unchanged also tried draw line using color turned unmodified color problem modify content colormap helpinformation appreciated please send mail yangcsumassedu william email yangcsumassedu way following environment using output xdpyinfo show default visual pseudocolor version number 110 vendor string decwindow digitalequipmentcorporation uws42 vendor release number 1 maximum request size 16384 longword 65536 byte motion buffer size 100 bitmap unit bit order padding 32 lsbfirst 32 image byte order lsbfirst number supported pixmap format 2 supported pixmap format depth 1 bitsperpixel 1 scanlinepad 32 depth 8 bitsperpixel 8 scanlinepad 32 keycode range minimum 86 maximum 251 number extension 8 adobedpsextension dpsextension shape mitshm multibuffering xinputextension mitsundrynonstandard decxtrap default screen number 0 number screen 1 screen 0 dimension 1024x864 pixel 333x281 millimeter resolution 78x78 dot per inch depth 2 1 8 root window id 0x29 depth root window 8 plane number colormap minimum 1 maximum 1 default colormap 0x27 default number colormap cell 256 preallocated pixel black 1 white 0 option backingstore ye saveunder ye current input event mask 0xd0001d keypressmask buttonpressmask buttonreleasemask enterwindowmask substructureredirectmask propertychangemask colormapchangemask number visual 5 default visual id 0x21 visual visual id 0x21 clas pseudocolor depth 8 plane size colormap 256 entry red green blue mask 0x0 0x0 0x0 significant bit color specification 8 bit visual visual id 0x22 clas grayscale depth 8 plane size colormap 256 entry red green blue mask 0x0 0x0 0x0 significant bit color specification 8 bit visual visual id 0x23 clas staticgray depth 8 plane size colormap 256 entry red green blue mask 0x0 0x0 0x0 significant bit color specification 8 bit visual visual id 0x24 clas staticcolor depth 8 plane size colormap 256 entry red green blue mask 0x7 0x38 0xc0 significant bit color specification 8 bit visual visual id 0x25 clas truecolor depth 8 plane size colormap 8 entry red green blue mask 0x7 0x38 0xc0 significant bit color specification 8 bit number mono multibuffer type 5 visual id max buffer depth 0x21 0 8 visual id max buffer depth 0x22 0 8 visual id max buffer depth 0x23 0 8 visual id max buffer depth 0x24 0 8 visual id max buffer depth 0x25 0 8 number stereo multibuffer type 0