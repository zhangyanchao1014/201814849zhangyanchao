einkaufaustinibmcom mark einkauf subject need help zbuffering line area together david gorgen write im asking help sticky problem involving unreasonably low apparent precision zbuffering ive encountered 2 different pex implementation cant find discussion thi problem resource lay hand eg compwindowsxpex faq gaskin pexlibprogrammingmanual vendor documentation problem solved eliminate minimize stitching artifact resulting use zbuffering polyline coplanar filled area interpolated z value along line differ slightly due roundoff error interpolated z value acros area even endpoint line coincident vertex area thi tossup whether zbuffer allow line pixel area pixel displayed visually result tend dashedline effect even though line supposed solid using pexlib apus approach solution use two slightly different pex view mapping transform two view table entry one area one line pex structure immediate mode output must organized one view table index alway effect area alway effect line result slight shift npc z coordinate line attempt bia tossup situation favor line thi shift effected moving front back clipping plane used pexlib view table entry line hair backward ie smaller vrc z coordinate compared position view table entry used area thi mean point transformed npc z value slightly bigger come line come area thu accomplishing desired bia would expect z roundoff error cause problem amount unit entire dynamic range zbuffer typically 0 65535 16777215 ie 16 24 bit zbuffer therefore seem tiny fraction range z vrc front back clip plane ought suffice reliably fix stitching fact experience show shift ha much 0003 0006 range empirically worst npc z component slope surface high ie appear le edgeon viewer 8 9 bit zbuffer dependable meaning thi amount great one problem replaced another sometime polyline show area supposed lie behind ive observed problem hewlettpackard digital workstation pex server approximately degree test program demonstrate problem mit pexlib 5x implementation thi version known compile run hpux system pex 51 open question 1 thi happen configuring pex view table wrongly systematic difference z interpolation line opposed area eg pixel center versu corner could corrected pex implementor wantonly discarding z precision interpolator something else 2 fix use view table allow better precision zbuffered hlhsr another approach take remove stitching artifact luck ibm problem workstation wa also shocked first realized offset line fill 16 bit assuming 24 bit z buffer thi seem huge 1256 dynamic range term doesnt seem bad happening interpolation z totally linear due mainly roundoff believe polygon planar z like ruffle potato chip ditto line startend different xy value ridge phase resulting stitch effect problem try draw 1 polygon right top another different vertex likely see smeared effect overlap example try polygon 1 100100100 100200100 200200100 200100100 polygon 2 125125100 125175100 175175100 175125100 ymy implementation correct fact similar trick rendering primitive line polygon nurb surface isoparametric line without trick line appear stitched say application draw linespolygon independently system smart automatically z shifting application must thi discovered bravo note ibmer information given ha previously disclosed proper channel im giving away new unpublished info mark einkauf einkaufaustinibmcom ibm advanced workstation system graphic system austin tx view opinion expressed herein necessarily ibm corp