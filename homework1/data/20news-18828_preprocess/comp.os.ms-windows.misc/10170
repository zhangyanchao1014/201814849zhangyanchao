yukiissutokyoacjp ito takayuki subject bmp format mean article robertsa735922084unix2tcdie robertsaunix2tcdie andrew l robert write exactly window bitmap format look like mean datum stored width height colour bitmap datum couldnt find anything th user manual reference material would give thi information thomassunshinekodakcom thoma kinsman newsgroup composmswindowsprogrammermiscaltbinariespicturesutility subject dibbmp creation guide requested keyword dib bmp bitmap file format messageid 1992dec2321443218764kodakkodakcom date 23 dec 92 214432 gmt sender newskodakkodakcom organization precambiran electronic rochester ny line 484 xref cradletitech composmswindowsprogrammermisc3609 guide creation dib image thoma b kinsman precambrian electronic 29 falstaff rd rochester ny 14609 thomaskkodakcom copyright march 15 1991 abstract format image created use window 3031 application documented window programmer reference guide thi guide intended clearify wording specification put forth recommendation among variou alternative please send updatescorrectionssuggestion revision please thank writing thi time keeping name document thank ymy respect thi document copyright 1991 thoma b kinsman desired postscript version thi document available thi information free get pay dont sue im wrong overview dib image file format intended device independent bitmap file format microsoft mean device independent unclear fmy pixel resolution supported 1 bit 4 bit 8 bit 24 bit pixel image intended use ibm littleendian system creating another architecture byte swap short long integer value convention dib image end extension bmp thi march 15 1991 2 superset earlier bitmap image file consequently sometime hear dib file referred bmp file since dib image file superset three flavor dib image dib image recommended convention form describe create intended application running window 30 environment os2 dib image understanding flavor dib image used presentation manager oldstyle bitmap image march 15 1991 3 difference flavor dib image consist 1 bitmapfileheader file header identify file dib file thi header also gife total size image file offset image datum 2 bitmapinfoheader image header specify image attribute 3 optional palette color used image exist thi may contain 2 16 256 entry entry window rgbquad structure 4 image datum os2 dib image consist 1 bitmapfileheader file header identify file dib file thi header also gife total size image file offset image datum 2 bitmapcoreheader image header specify image attribute 3 optional palette color used image thi exist may contain 2 16 256 entry entry window rgbtriple structure 4 image datum old style image bitmap consist 1 either bitmapinfoheader bitmapcoreheader header type determined first long integer dword value 2 optional color palette thi palette may composed either window rgbquad structure header wa bitmapinfoheader window rgbtriple structure header wa bitmapcoreheader 3 image datum creating dib image file creating dib image file consist several straight forward step header need created written file header structure defined windows30 windowsh include file palette information need stored image 24bit image five general step 1 filling bitmapfileheader bitmapinfoheader structure basic image information 2 image 1bit 4bit 8bit image creating color palette rgbquad 3 calculating total file size putting thi information march 15 1991 4 bfsize field bitmapfileheader 4 calculating offset image datum start file putting thi bfoffbit field bitmapfileheader 5 writing file bitmapfileheader bitmapinfoheader color palette image datum order following section describe structure term microsoft c type defined keyword following table describe keyword familiar microsoft c typedefined keyword microsoft c typedef meaning byte unsigned character word two byte unsigned integer dword fmy byte unsigned integer march 15 1991 5 bitmapfileheader thi structure defined windowsh typedef struct tagbitmapfileheader word bftype dword bfsize word bfreserved1 word bfreserved2 dword bfoffbit bitmapfileheader bftype field two ascius character b thi serve identify file dib image file intel byte ordered machine ibm compatible thi constant formed c quantity 8 b 0x4d42 intel system bfsize field total size file purpose thi field equal size bitmapfileheader plu size bitmapinfoheader plu number entry color palette time size rgbquad plu number byte image datum image datum written uncompressed form thi value calculated ahead time otherwise thi field need filled later bfreserved1 bfreserved2 field alway set zero bfoffbit field set offset start image datum start file purpose thi field set size bitmapfileheader plu size bitmapinfoheader plu number entry color palette time size rgbquad thi work image datum written write color palette one exist march 15 1991 6 bitmapinfoheader thi structure defined windowsh typedef struct tagbitmapinfoheader dword bisize dword biwidth dword biheight word biplane word bibitcount dword bicompression dword bisizeimage dword bixpelspermeter dword biypelspermeter dword biclrused dword biclrimportant bitmapinfoheader bisize field set size bitmapinfoheader structure reading image file thi value used determine image contain bitmapinfoheader bitmapcoreheader biwidth field width image image pixel biheight field height image image line biplane field alway set 1 thi datum written wa one color plane bibitcount field bitdepth image thi must either 1 4 8 24 depending bitdepth image datum bicompression field tell image datum compressed compressed dib image support two form runlength encoding however never seen image use dont know yet work set thi field zero long zero 0l indicate datum compressed subsequent field bitmapinfoheader structure may set zero requirement interpretting software able compute field necessary previou information field might want explicitly specify might biclrused 4bit 8bit image thi field indicate possible color entry used image contain biclrused color using 32 color 8bit image may want save 32 possible 256 palette entry generally set thi field zero march 15 1991 7 color palette entry color palette rgbquad structure rgbquad structure defined windowsh include file typedef struct tagrgbquad byte rgbblue byte rgbgreen byte rgbred byte rgbreserved rgbquad rgbreserved field alway zero color used amount blue green red filled structure structure written file value zero rgbblue rgbgreen rgbred field indicate particular component contribute color composition value 255 field indicate component contribute fully color composition image datum three surprise ordering image datum dib image file creator thi format wa determined creative certainly wa within image datum line written padded next fmy byte quantity 8bit image wa one pixel wide still write fmy byte every image line number byte per line calculated bytesperline widthinpix bitdepth 31 32 4 term field bitmapinfoheader structure bytesperline biwidth bibitcount 31 32 4 writing ymy image datum must write bottom line first bottom line image would look screen first line image datum file 1bit 4bit 8bit image information written would expect one bit image padded eight pixel byte fmy bit image padded two pixel byte eight bit image written one pixel per byte twentyfmy bit image written three byte per pixel however 24bit image information must written order blue green red image file format write datum march 15 1991 8 rgb ordering dib image file write datum bgr ordering summary thi provide enough information create dib image application scanner image exporting routine find dib image please pa information modify thi document accordingly march 15 1991 thoma b kinsman rochester ny thomasacadiakodakcom practice random kindnes senseles act beauty anon ito takayuki yukiissutokyoacjp senior department infomation science faculty science university tokyo japan